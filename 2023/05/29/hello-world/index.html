<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>Obsidianè¿›é˜¶æ’ä»¶Obsidian Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡ | StarAire's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Obsidianè¿›é˜¶æ’ä»¶Obsidian Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡</h1><a id="logo" href="/.">StarAire's Blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/book/"><i class="fa fa-book"> ä¹¦å•</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a href="/history/"><i class="fa fa-history"> å†å²</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Obsidianè¿›é˜¶æ’ä»¶Obsidian Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡</h1><div class="post-meta">2023-05-29</div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">æ–‡ç« ç›®å½•</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Obsidian%E8%BF%9B%E9%98%B6%E6%8F%92%E4%BB%B6Obsidian-Leaflet%E7%94%A8%E6%B3%95%E4%B9%8B%E7%AE%A1%E7%90%86%E8%87%AA%E5%B7%B1%E7%9A%84%E6%97%85%E8%A1%8C%E7%85%A7%E7%89%87"><span class="toc-number">1.</span> <span class="toc-text">Obsidianè¿›é˜¶æ’ä»¶Obsidian Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#0-%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.</span> <span class="toc-text">0 ä¸»è¦åŠŸèƒ½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%89%8D%E8%A8%80"><span class="toc-number">1.2.</span> <span class="toc-text">1 å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">2 åŸºæœ¬ä½¿ç”¨æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.1 å®‰è£…æ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%B7%BB%E5%8A%A0%E6%83%B3%E8%A6%81%E7%9A%84%E5%9C%B0%E5%9B%BE"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.2 æ·»åŠ æƒ³è¦çš„åœ°å›¾</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%AD%E5%BF%83%E7%82%B9%E7%BB%8F%E7%BA%AC%E5%BA%A6"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">ä¿®æ”¹ä¸­å¿ƒç‚¹ç»çº¬åº¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%BC%A9%E6%94%BE%E9%99%90%E5%88%B6"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">ä¿®æ”¹ç¼©æ”¾é™åˆ¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%B7%BB%E5%8A%A0%E6%A0%87%E8%AE%B0%E7%82%B9"><span class="toc-number">1.3.3.</span> <span class="toc-text">2.3 æ·»åŠ æ ‡è®°ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E5%BF%AB%E6%8D%B7%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">æœ€å¿«æ·çš„æ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6-yaml%E5%88%9B%E5%BB%BA%E6%A0%87%E8%AE%B0%E7%82%B9"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">æ–‡ä»¶+yamlåˆ›å»ºæ ‡è®°ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E4%BD%BF%E7%94%A8%E5%9B%BD%E5%86%85%E5%9C%B0%E5%9B%BE"><span class="toc-number">1.3.4.</span> <span class="toc-text">2.4 ä½¿ç”¨å›½å†…åœ°å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E8%B7%AF%E5%BE%84"><span class="toc-number">1.3.5.</span> <span class="toc-text">2.5 è·¯å¾„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%9C%80%E5%90%8E"><span class="toc-number">1.4.</span> <span class="toc-text">3 æœ€å</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-number">1.4.1.</span> <span class="toc-text">å‚è€ƒé“¾æ¥</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><h1 id="Obsidianè¿›é˜¶æ’ä»¶Obsidian-Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡"><a href="#Obsidianè¿›é˜¶æ’ä»¶Obsidian-Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡" class="headerlink" title="Obsidianè¿›é˜¶æ’ä»¶Obsidian Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡"></a>Obsidianè¿›é˜¶æ’ä»¶Obsidian Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡</h1><p><img src="https://alistsa.vip.cpolar.cn/d/public/pic/vx_images/202473609249698.png"></p>
<p><img src="https://alistsa.vip.cpolar.cn/d/public/pic/vx_images/554163809246253.png"></p>
<h2 id="0-ä¸»è¦åŠŸèƒ½"><a href="#0-ä¸»è¦åŠŸèƒ½" class="headerlink" title="0 ä¸»è¦åŠŸèƒ½"></a>0 ä¸»è¦åŠŸèƒ½</h2><p>é€šè¿‡ç…§ç‰‡çš„GPSå®šä½ä¿¡æ¯æ ‡è®°åœ¨åœ°å›¾ä¸Šï¼Œé¼ æ ‡æ”¾åœ¨æ ‡è®°ç‚¹ä¸Šå¯é¢„è§ˆå›¾ç‰‡ï¼Œæ ‡è®°ç‚¹å¯ç»‘å®šæ–‡ä»¶å’Œå›¾ç‰‡ï¼Œå¯ä»¥åœ¨é‡Œé¢å†™éšæƒ³å’Œç…§ç‰‡ï¼Œè®©ç›¸å†Œé‡Œçš„ç…§ç‰‡è·ƒç„¶åœ°å›¾ä¹‹ä¸Šã€‚</p>
<h2 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1 å‰è¨€"></a>1 å‰è¨€</h2><p>è‡ªä»ä½¿ç”¨naså¤‡ä»½è‡ªå·±çš„ç…§ç‰‡ä¹‹åï¼Œæˆæ‰¹çš„ç…§ç‰‡ç®¡ç†å°±æˆäº†é—®é¢˜ï¼Œç…§ç‰‡æ”¶é›†èµ·æ¥ï¼Œä¸€å †ä¹±ç³Ÿç³Ÿï¼Œä¸çŸ¥ä»ä½•çœ‹èµ·ï¼Œæ‰€ä»¥å°è¯•äº†å¾ˆå¤šç…§ç‰‡ç®¡ç†å·¥å…·ï¼Œæœ‰æŠŠä¸€å †ç…§ç‰‡æŒ‰æ—¶é—´åˆ†ç±»æ•´ç†çš„å°è½¯ä»¶ï¼Œè¿˜æœ‰ä¸€äº›ç®¡ç†ç…§ç‰‡çš„è½¯ä»¶ä¾‹å¦‚digikamæˆ–PhotoPrismï¼Œä»–ä»¬åŠŸèƒ½éƒ½å¾ˆå¼ºå¤§ï¼Œå¯ä»¥å¿«é€Ÿçš„ç®¡ç†å›¾ç‰‡ã€‚<br>è¿™äº›ç…§ç‰‡ç®¡ç†è½¯ä»¶æœ‰ä¸€ä¸ªåœ°å›¾çš„åŠŸèƒ½è®©æˆ‘æ„Ÿè§‰ç‰¹åˆ«æœ‰æ„æ€ï¼Œä½†ä½¿ç”¨èµ·æ¥éƒ½æœ‰ç‚¹ä¸å°½å¦‚äººæ„ï¼Œä¾‹å¦‚PhotoPrismçš„åœ°å›¾åŠŸèƒ½éœ€è¦æ”¶è´¹ï¼Œdigikamçš„åœ°å›¾å¾ˆæ¨¡ç³Šï¼Œè§‚æ„Ÿä¸å¤ªå¥½ã€‚<br>äºæ˜¯çªç„¶æœ‰ä¸€å¤©æˆ‘çœ‹åˆ°obsidianæœ‰ä¸ªObsidian Leafletæ’ä»¶ï¼Œäº†è§£ä¸€ç•ªä¹‹åè§‰å¾—ç®€ç›´å®Œç¾ï¼Œä¸‹é¢æˆ‘å°±ç®€è¿°ä¸€ä¸‹è¿™ä¸ªæ’ä»¶çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
<h2 id="2-åŸºæœ¬ä½¿ç”¨æ–¹æ³•"><a href="#2-åŸºæœ¬ä½¿ç”¨æ–¹æ³•" class="headerlink" title="2 åŸºæœ¬ä½¿ç”¨æ–¹æ³•"></a>2 åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h2><h3 id="2-1-å®‰è£…æ’ä»¶"><a href="#2-1-å®‰è£…æ’ä»¶" class="headerlink" title="2.1 å®‰è£…æ’ä»¶"></a>2.1 å®‰è£…æ’ä»¶</h3><p>æ‰“å¼€obsidianç¬¬ä¸‰æ–¹æ’ä»¶å•†åŸï¼Œè¾“å…¥<code>Obsidian Leaflet</code>ï¼Œå®‰è£…</p>
<p>é¦–å…ˆå¯ä»¥å»githubä¸Šçœ‹ä¸‹è¿™ä¸ªæ’ä»¶çš„ä»“åº“ï¼š<a target="_blank" rel="noopener" href="https://github.com/javalent/obsidian-leaflet">https://github.com/javalent/obsidian-leaflet</a></p>
<p>å®ƒç»™äº†ä¸€ä¸ªæ¡ˆä¾‹å’Œä¸€ä¸ªè¡¨</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```leaflet</span></span><br><span class="line"><span class="code">id: leaflet-map</span></span><br><span class="line"><span class="code">image: [[Image.jpg]]</span></span><br><span class="line"><span class="code">height: 500px</span></span><br><span class="line"><span class="code">lat: 50</span></span><br><span class="line"><span class="code">long: 50</span></span><br><span class="line"><span class="code">minZoom: 1</span></span><br><span class="line"><span class="code">maxZoom: 10</span></span><br><span class="line"><span class="code">defaultZoom: 5</span></span><br><span class="line"><span class="code">unit: meters</span></span><br><span class="line"><span class="code">scale: 1</span></span><br><span class="line"><span class="code">marker: default, 39.983334, -82.983330, [[Note]]</span></span><br><span class="line"><span class="code">darkMode: true</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ”¹ä¸º</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```leaflet</span></span><br><span class="line"><span class="code">id: TT20220521</span></span><br><span class="line"><span class="code">osmLayer: false</span></span><br><span class="line"><span class="code">tileServer: http://&#123;s&#125;.tile.osm.org/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png</span></span><br><span class="line"><span class="code">tileSubdomains: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"><span class="code">lat: 30.2574</span></span><br><span class="line"><span class="code">long: 120.1429</span></span><br><span class="line"><span class="code">height: 800px</span></span><br><span class="line"><span class="code">width: 100%</span></span><br><span class="line"><span class="code">defaultZoom: 16</span></span><br><span class="line"><span class="code">maxzoom: 18</span></span><br><span class="line"><span class="code">minzoom: 1</span></span><br><span class="line"><span class="code">unit: meters</span></span><br><span class="line"><span class="code">scale: 1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">markerFolder: 100_Schedule/130_è®¡åˆ’æ¸…å•/133_æ—…æ¸¸è®¡åˆ’/æ—…æ¸¸è®°å½•/2022/2022å¹´5æœˆè¥¿æ¹–ä¸€æ—¥æ¸¸/æ ‡è®°ç‚¹</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<p>è§£é‡Šä¸€ä¸‹</p>
<ul>
<li><code>id</code>ï¼šç”¨æ¥è¯†åˆ«è¿™ä¸ªå—çš„idï¼Œå†™ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å°±è¡Œï¼Œæ’ä»¶ç”¨è¿™ä¸ªidå’Œæ ‡è®°ç‚¹ç»‘å®š</li>
<li><code>osmLayer: false</code>ï¼šæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çœŸå®åœ°å›¾ï¼Œæ‰€ä»¥è¿™é‡Œå†™<code>false</code></li>
<li><code>tileServer</code>ï¼šåœ°å›¾ç“¦ç‰‡æœåŠ¡å™¨åœ°å€ï¼Œè¿™é‡Œé€‰æ‹©<code>openstreetmap</code>çš„æº<code>http://&#123;s&#125;.tile.osm.org/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png</code>ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©é«˜å¾·çš„æºï¼Œä¸‹é¢ä¼šè¯´åˆ°</li>
<li><code>tileSubdomains</code>ï¼šè¿™æ˜¯ç”³è¯·æ•°æ®è¦é™„å¸¦çš„ï¼Œè¿™é‡Œå¡«<code>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</code>ï¼Œä¸åŒçš„æœåŠ¡å™¨ä¸ä¸€æ ·</li>
<li><code>lat</code>ï¼šåœ°å›¾æ‰“å¼€æ—¶ä¸­å¿ƒç‚¹çš„çº¬åº¦</li>
<li><code>long</code>ï¼šåœ°å›¾æ‰“å¼€æ—¶ä¸­å¿ƒç‚¹çš„ç»åº¦</li>
<li><code>height</code>ï¼šåœ°å›¾åœ¨obsidiané¡µé¢é«˜åº¦ï¼Œå¯ä»¥å¡«åƒç´ å€¼æˆ–è€…ç™¾åˆ†æ¯”ï¼Œè¿™é‡Œå¯ä»¥è‡ªç”±è°ƒæ•´</li>
<li><code>width</code>: åœ°å›¾åœ¨obsidiané¡µé¢å®½åº¦ï¼Œå’Œä¸Šé¢ä¸€æ ·</li>
<li><code>defaultZoom</code>ï¼šé»˜è®¤çš„ä¸€ä¸ªç¼©æ”¾ï¼Œè¿™é‡Œæ’ä»¶åŸæ¥çš„ä¸€ä¸ªèŒƒå›´æ˜¯<code>1-10</code>ï¼Œå¯¼è‡´åœ°å›¾ä¸èƒ½æ”¾çš„å¾ˆå°ï¼Œåé¢è®²ä¸€ä¸‹æ€ä¹ˆæŠŠèŒƒå›´æ”¹å¤§ï¼Œè¿™é‡Œé»˜è®¤å¡«<code>16</code>ï¼Œå¯ä»¥è‡ªå·±è°ƒæ•´</li>
<li><code>maxzoom</code>ï¼šç¼©æ”¾æœ€å¤§é™åˆ¶</li>
<li><code>minzoom</code>ï¼šç¼©æ”¾æœ€å°é™åˆ¶</li>
<li><code>unit</code>ï¼šåœ°å›¾å•ä½ï¼Œè¿™é‡Œå¡«<code>meters</code></li>
<li><code>scale</code>ï¼šæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œç…§ç€å¡«1å°±è¡Œäº†</li>
<li><code>markerFolder</code>: æ ‡è®°ç‚¹æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æš‚æ—¶ä¸å¡«</li>
</ul>
<h3 id="2-2-æ·»åŠ æƒ³è¦çš„åœ°å›¾"><a href="#2-2-æ·»åŠ æƒ³è¦çš„åœ°å›¾" class="headerlink" title="2.2 æ·»åŠ æƒ³è¦çš„åœ°å›¾"></a>2.2 æ·»åŠ æƒ³è¦çš„åœ°å›¾</h3><h4 id="ä¿®æ”¹ä¸­å¿ƒç‚¹ç»çº¬åº¦"><a href="#ä¿®æ”¹ä¸­å¿ƒç‚¹ç»çº¬åº¦" class="headerlink" title="ä¿®æ”¹ä¸­å¿ƒç‚¹ç»çº¬åº¦"></a>ä¿®æ”¹ä¸­å¿ƒç‚¹ç»çº¬åº¦</h4><p>æ‰“å¼€<a target="_blank" rel="noopener" href="https://www.openstreetmap.org/#map">https://www.openstreetmap.org/#map</a></p>
<p>æ‰¾åˆ°è‡ªå·±æƒ³è¦å®šä½çš„ç‚¹</p>
<p><img src="https://alistsa.vip.cpolar.cn/d/public/pic/vx_images/508795410242007.png"></p>
<p>å°†ä¸Šé¢çš„ç»çº¬åº¦å¤åˆ¶ä¸‹æ¥ï¼Œå‰é¢æ˜¯çº¬åº¦ï¼Œåé¢æ˜¯ç»åº¦ï¼Œå¤åˆ¶åˆ°ä¸Šé¢çš„latå’Œlongåé¢</p>
<h4 id="ä¿®æ”¹ç¼©æ”¾é™åˆ¶"><a href="#ä¿®æ”¹ç¼©æ”¾é™åˆ¶" class="headerlink" title="ä¿®æ”¹ç¼©æ”¾é™åˆ¶"></a>ä¿®æ”¹ç¼©æ”¾é™åˆ¶</h4><p>æ‰“å¼€ç¬”è®°æ–‡ä»¶å¤¹ç›®å½•åº•ä¸‹çš„<code>.obsidian</code>æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰“å¼€<code>Plugins</code>-<code>obsidian-leaflet-plugin</code>ï¼Œæ‰“å¼€é‡Œé¢çš„<code>main.js</code>ï¼Œå…¨å±€æœç´¢<code>maxzoom:10</code>ï¼Œå…¨éƒ¨ä¿®æ”¹ä¸º<code>maxzoom:18</code></p>
<p>ç„¶åä¿å­˜ï¼Œè½¯ä»¶é‡å¯</p>
<p>æœ€åæˆ‘ä»¬è¾“å…¥</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```leaflet</span></span><br><span class="line"><span class="code">id: TT20220430</span></span><br><span class="line"><span class="code">osmLayer: false</span></span><br><span class="line"><span class="code">tileServer: http://&#123;s&#125;.tile.osm.org/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png</span></span><br><span class="line"><span class="code">tileSubdomains: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"><span class="code">lat: 30.2495</span></span><br><span class="line"><span class="code">long: 120.1436</span></span><br><span class="line"><span class="code">height: 800px</span></span><br><span class="line"><span class="code">width: 100%</span></span><br><span class="line"><span class="code">defaultZoom: 14</span></span><br><span class="line"><span class="code">maxzoom: 18</span></span><br><span class="line"><span class="code">minzoom: 1</span></span><br><span class="line"><span class="code">unit: meters</span></span><br><span class="line"><span class="code">scale: 1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<p>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹</p>
<p><img src="https://alistsa.vip.cpolar.cn/d/public/pic/vx_images/140550511259887.png"></p>
<h3 id="2-3-æ·»åŠ æ ‡è®°ç‚¹"><a href="#2-3-æ·»åŠ æ ‡è®°ç‚¹" class="headerlink" title="2.3 æ·»åŠ æ ‡è®°ç‚¹"></a>2.3 æ·»åŠ æ ‡è®°ç‚¹</h3><h4 id="æœ€å¿«æ·çš„æ–¹å¼"><a href="#æœ€å¿«æ·çš„æ–¹å¼" class="headerlink" title="æœ€å¿«æ·çš„æ–¹å¼"></a>æœ€å¿«æ·çš„æ–¹å¼</h4><p>æ‰¾åˆ°è¦æ ‡è®°çš„ç‚¹ï¼Œé¼ æ ‡å³é”®ï¼Œå°±æ‰“ä¸Šäº†ä¸€ä¸ªæ ‡è®°ç‚¹ï¼Œ<br>ç„¶åå³é”®æ ‡è®°ç‚¹ï¼Œç¼–è¾‘æ ‡è®°ï¼ŒDescriptionå¯ä»¥æ·»åŠ è¿™ä¸ªç‚¹çš„æè¿°ä¿¡æ¯<br>å³é”®æ ‡è®°ç‚¹-<code>è½¬æ¢ä¸ºä»£ç å—</code>ï¼Œæ­¤æ—¶åˆ‡å›ç¼–è¾‘æ¨¡å¼ï¼Œå¯ä»¥çœ‹è§è‡ªåŠ¨æ·»åŠ äº†è¿™ä¸ª</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">marker</span>: default,<span class="number">30</span>.<span class="number">258943640372824</span>,<span class="number">120</span>.<span class="number">13927459716798</span>,,,,</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶å†åˆ‡å›é¢„è§ˆï¼Œå‘ç°æ ‡è®°ç‚¹æ˜¯ä¸æ˜¯ä¸è§äº†ï¼Œåˆ«æ€¥ï¼ŒæŠŠä¸Šé¢çš„åé¢å‡ ä¸ªé€—å·å»æ‰</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">marker</span>: default,<span class="number">30</span>.<span class="number">258943640372824</span>,<span class="number">120</span>.<span class="number">13927459716798</span></span><br></pre></td></tr></table></figure>
<p>å†åˆ‡å›é¢„è§ˆæ¨¡å¼ï¼Œç‚¹åˆå›æ¥äº†</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹githubä»“åº“é‡Œç»™æˆ‘ä»¬çš„è¯´æ˜</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">marker: <span class="attribute">&lt;type*&gt;</span>,<span class="attribute">&lt;latitude&gt;</span>,<span class="attribute">&lt;longitude&gt;</span>,<span class="attribute">&lt;link*&gt;</span>,<span class="attribute">&lt;description*&gt;</span>,<span class="attribute">&lt;minZoom*&gt;</span>,<span class="attribute">&lt;maxZoom*&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ä¸ªtypeæ˜¯ç‚¹çš„ç±»å‹ï¼Œè¿™é‡Œdefaultå³å¯<br>ç¬¬äºŒä¸ªç¬¬ä¸‰ä¸ªæ˜¯ç»çº¬åº¦<br>ç¬¬å››ä¸ªæ˜¯æ–‡ä»¶é“¾æ¥ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é“¾æ¥ç…§ç‰‡ä¹Ÿå¯ä»¥é“¾æ¥æ–‡ä»¶ï¼Œ<br>ç¬¬äº”ä¸ªæ˜¯descriptionï¼Œæ˜¯æè¿°<br>ç¬¬å…­ç¬¬ä¸ƒä¸ªæ˜¯æ˜¯å¯ä»¥çœ‹è§æ ‡è®°ç‚¹çš„ä¸€ä¸ªç¼©æ”¾å¤§å°åŒºé—´</p>
<p>æ²¡æœ‰éœ€æ±‚ï¼Œåé¢å¯ä»¥ä¸å¡«<br>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ç»‘å®šä¸€ä¸ªå›¾ç‰‡å’Œæ·»åŠ æè¿°ä¿¡æ¯</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">marker</span>: default,<span class="number">30</span>.<span class="number">258943640372824</span>,<span class="number">120</span>.<span class="number">13927459716798</span>,[[index.jpg]],<span class="number">123</span></span><br></pre></td></tr></table></figure>

<p><img src="https://alistsa.vip.cpolar.cn/d/public/pic/vx_images/129052011257491.png"></p>
<h4 id="æ–‡ä»¶-yamlåˆ›å»ºæ ‡è®°ç‚¹"><a href="#æ–‡ä»¶-yamlåˆ›å»ºæ ‡è®°ç‚¹" class="headerlink" title="æ–‡ä»¶+yamlåˆ›å»ºæ ‡è®°ç‚¹"></a>æ–‡ä»¶+yamlåˆ›å»ºæ ‡è®°ç‚¹</h4><p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨åœ°å›¾çš„ <code>markerFolder</code>æŠŠè¿™ä¸ªè·¯å¾„æ·»åŠ è¿›å»ï¼Œä¾‹å¦‚</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```leaflet</span></span><br><span class="line"><span class="code">id: TT20220521</span></span><br><span class="line"><span class="code">osmLayer: false</span></span><br><span class="line"><span class="code">tileServer: http://&#123;s&#125;.tile.osm.org/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png</span></span><br><span class="line"><span class="code">tileSubdomains: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"><span class="code">lat: 30.2574</span></span><br><span class="line"><span class="code">long: 120.1429</span></span><br><span class="line"><span class="code">height: 800px</span></span><br><span class="line"><span class="code">width: 100%</span></span><br><span class="line"><span class="code">defaultZoom: 16</span></span><br><span class="line"><span class="code">maxzoom: 18</span></span><br><span class="line"><span class="code">minzoom: 1</span></span><br><span class="line"><span class="code">unit: meters</span></span><br><span class="line"><span class="code">scale: 1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">markerFolder: 100_Schedule/130_è®¡åˆ’æ¸…å•/133_æ—…æ¸¸è®¡åˆ’/æ—…æ¸¸è®°å½•/2022/2022å¹´5æœˆè¥¿æ¹–ä¸€æ—¥æ¸¸/æ ‡è®°ç‚¹</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨è¯¥æ–‡ä»¶å¤¹é‡Œæ·»åŠ æ ‡è®°ç‚¹æ–‡ä»¶</p>
<p><img src="https://alistsa.vip.cpolar.cn/d/public/pic/vx_images/322732211254993.png"></p>
<p>æˆ‘æ˜¯é€šè¿‡ç»åº¦+çº¬åº¦çš„æ–¹å¼å‘½åçš„ï¼Œä½ ä¹Ÿå¯ä»¥æœ‰å…¶ä»–å‘½åæ–¹å¼</p>
<p>é‡Œé¢çš„yamlæ ¼å¼å¯ä»¥æŒ‰ç…§è¿™æ ·</p>
<p><img src="https://alistsa.vip.cpolar.cn/d/public/pic/vx_images/15213811247356.png"></p>
<p>æœ€å…³é”®çš„å°±æ˜¯<code>mapmarker</code>å’Œ<code>location</code>å­—æ®µï¼Œå…¶ä»–å­—æ®µå¯ä»¥è‡ªå·±å®šä¹‰</p>
<ul>
<li><code>mapmarker</code>ï¼šæ ‡è®°ç‚¹ç±»å‹ï¼Œé»˜è®¤ä¸ºdefault</li>
<li><code>location</code>ï¼šç»çº¬åº¦ä¿¡æ¯</li>
</ul>
<p>å› ä¸ºè¿™äº›ä¿¡æ¯éƒ½å¯ä»¥ä»ç…§ç‰‡ä¸­è·å–ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªè„šæœ¬æ¥è·å–ä¿¡æ¯(è¿™é‡Œå½¢å¼ä¸ä¸€ï¼Œå„ä½å¯ä»¥è‡ªè¡Œè®¾è®¡)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> exifread</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">image = <span class="string">&#x27;IMG_20230430_203010.jpg&#x27;</span></span><br><span class="line"></span><br><span class="line">imageurl = <span class="string">&#x27;![](è‡ªå·±çš„ç…§ç‰‡è·¯å¾„/&#x27;</span></span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">r&#x27;ç…§ç‰‡è·¯å¾„\\&#x27;</span>+image, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line"></span><br><span class="line">tags = exifread.process_file(f)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°ç…§ç‰‡å…¶ä¸­ä¸€äº›ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># print(&#x27;æ‹æ‘„æ—¶é—´ï¼š&#x27;, tags[&#x27;EXIF DateTimeOriginal&#x27;])</span></span><br><span class="line"><span class="comment"># print(&#x27;ç…§ç›¸æœºåˆ¶é€ å•†ï¼š&#x27;, tags[&#x27;Image Make&#x27;])</span></span><br><span class="line"><span class="comment"># print(&#x27;ç…§ç›¸æœºå‹å·ï¼š&#x27;, tags[&#x27;Image Model&#x27;])</span></span><br><span class="line"><span class="comment"># print(&#x27;ç…§ç‰‡å°ºå¯¸ï¼š&#x27;, tags[&#x27;EXIF ExifImageWidth&#x27;], tags[&#x27;EXIF ExifImageLength&#x27;])</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---&quot;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mapmarker: default&quot;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;date: &quot;</span>,tags[<span class="string">&#x27;EXIF DateTimeOriginal&#x27;</span>]) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;device: &quot;</span>+ <span class="built_in">str</span>(tags[<span class="string">&#x27;Image Make&#x27;</span>])+<span class="string">&quot; &quot;</span>+<span class="built_in">str</span>(tags[<span class="string">&#x27;Image Model&#x27;</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;place: &quot;</span>)</span><br><span class="line"><span class="comment">#è·å–ç»åº¦æˆ–çº¬åº¦</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getLatOrLng</span>(<span class="params">refKey, tudeKey</span>):</span><br><span class="line">    <span class="keyword">if</span> refKey <span class="keyword">not</span> <span class="keyword">in</span> tags:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    ref=tags[refKey].printable</span><br><span class="line">    LatOrLng=tags[tudeKey].printable[<span class="number">1</span>:-<span class="number">1</span>].replace(<span class="string">&quot; &quot;</span>,<span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;,&quot;</span>).split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    LatOrLng=<span class="built_in">float</span>(LatOrLng[<span class="number">0</span>])+<span class="built_in">float</span>(LatOrLng[<span class="number">1</span>])/<span class="number">60</span>+<span class="built_in">float</span>(LatOrLng[<span class="number">2</span>])/<span class="built_in">float</span>(LatOrLng[<span class="number">3</span>])/<span class="number">3600</span></span><br><span class="line">    <span class="keyword">if</span> refKey == <span class="string">&#x27;GPS GPSLatitudeRef&#x27;</span> <span class="keyword">and</span> tags[refKey].printable != <span class="string">&quot;N&quot;</span>:</span><br><span class="line">        LatOrLng=LatOrLng*(-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> refKey == <span class="string">&#x27;GPS GPSLongitudeRef&#x27;</span> <span class="keyword">and</span> tags[refKey].printable != <span class="string">&quot;E&quot;</span>:</span><br><span class="line">        LatOrLng=LatOrLng*(-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> LatOrLng</span><br><span class="line"> </span><br><span class="line">lat = getLatOrLng(<span class="string">&#x27;GPS GPSLatitudeRef&#x27;</span>,<span class="string">&#x27;GPS GPSLatitude&#x27;</span>) <span class="comment">#çº¬åº¦</span></span><br><span class="line">lng = getLatOrLng(<span class="string">&#x27;GPS GPSLongitudeRef&#x27;</span>,<span class="string">&#x27;GPS GPSLongitude&#x27;</span>) <span class="comment">#ç»åº¦</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;gps: [&#123;&#125;,&#123;&#125;]&#x27;</span>.<span class="built_in">format</span>(lat, lng))</span><br><span class="line"><span class="keyword">if</span> lat==<span class="literal">None</span> <span class="keyword">or</span> lng==<span class="literal">None</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;no gps&quot;</span>)</span><br><span class="line">    exit()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;location: [&#123;&#125;,&#123;&#125;]&quot;</span>.<span class="built_in">format</span>(lat, lng)) </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---&quot;</span>) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(imageurl+image+<span class="string">&#x27;)&#x27;</span>) </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆå°†æ‰“å°å‡ºæ¥çš„ä¿¡æ¯ï¼Œå¡«åˆ°æ–‡ä»¶é‡Œ</p>
<h3 id="2-4-ä½¿ç”¨å›½å†…åœ°å›¾"><a href="#2-4-ä½¿ç”¨å›½å†…åœ°å›¾" class="headerlink" title="2.4 ä½¿ç”¨å›½å†…åœ°å›¾"></a>2.4 ä½¿ç”¨å›½å†…åœ°å›¾</h3><p>æœ‰äº›æ™¯ç‚¹ï¼Œopenstreetmapçš„ä¿¡æ¯ä¸æ˜¯å¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬è¢«è¿«ä¸å¾—ä¸ç”¨å›½å†…çš„åœ°å›¾</p>
<p>é¦–å…ˆï¼Œå°†å›½å¤–çš„æœåŠ¡å™¨æ”¹ä¸ºå›½å†…çš„é«˜å¾·</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="code">```leaflet</span></span><br><span class="line"><span class="code">id: TT20220430</span></span><br><span class="line"><span class="code">osmLayer: false</span></span><br><span class="line"><span class="code">tileServer: http://webrd0&#123;s&#125;.is.autonavi.com/appmaptile?lang=zh_cn&amp;size=1&amp;scale=1&amp;style=8&amp;x=&#123;x&#125;&amp;y=&#123;y&#125;&amp;z=&#123;z&#125;</span></span><br><span class="line"><span class="code">tileSubdomains: [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;]</span></span><br><span class="line"><span class="code">lat: 32.101</span></span><br><span class="line"><span class="code">long: 120.825</span></span><br><span class="line"><span class="code">height: 800px</span></span><br><span class="line"><span class="code">width: 100%</span></span><br><span class="line"><span class="code">defaultZoom: 16</span></span><br><span class="line"><span class="code">maxzoom: 18</span></span><br><span class="line"><span class="code">minzoom: 1</span></span><br><span class="line"><span class="code">unit: meters</span></span><br><span class="line"><span class="code">scale: 1</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹<code>tileServer</code>ä¸º<code>http://webrd0&#123;s&#125;.is.autonavi.com/appmaptile?lang=zh_cn&amp;size=1&amp;scale=1&amp;style=8&amp;x=&#123;x&#125;&amp;y=&#123;y&#125;&amp;z=&#123;z&#125;</code><br><code>tileSubdomains</code>ä¿®æ”¹ä¸º<code>[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;]</code></p>
<p>ä½†æ˜¯å›½å†…çš„åœ°å›¾çš„åæ ‡ä¿¡æ¯æ˜¯é‡‡ç”¨çš„å’Œå›½é™…ä¸ä¸€æ ·çš„åæ ‡ä½“ç³»ï¼Œæ‰€ä»¥å›½å¤–çš„GPSåæ ‡ï¼Œç”¨åœ¨å›½å†…çš„åœ°å›¾ä¸Šå°±ä¼šå‘ç”Ÿåç§»ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥è§£å†³è¿™ä¸ªé—®é¢˜<br>å…·ä½“åŸå› è§ï¼š<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/258883313">https://zhuanlan.zhihu.com/p/258883313</a><br>è¿™æ˜¯å¦‚æœå°è¯•æ·»åŠ ä¹‹å‰çš„åæ ‡ç‚¹ï¼Œå°±ä¼šå‘ç°åœ°å›¾ä¸Šåœ°ç‚¹å¯¹ä¸ä¸Šï¼Œè€Œä¹‹å‰çš„openstreetmapåˆ™æ²¡æœ‰åç§»ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è°ƒç”¨é«˜å¾·çš„åæ ‡è½¬æ¢API<br><a target="_blank" rel="noopener" href="https://developer.amap.com/api/webservice/guide/api/convert">https://developer.amap.com/api/webservice/guide/api/convert</a><br>ç”³è¯·ä¸€ä¸ªKEY</p>
<p>ç„¶åä¿®æ”¹ä¹‹å‰çš„è„šæœ¬</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> exifread</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment"># é«˜å¾·åœ°å›¾åæ ‡è½¬æ¢</span></span><br><span class="line">gaodeconvert_enable = <span class="number">1</span></span><br><span class="line"><span class="comment"># é«˜å¾·APIçš„key</span></span><br><span class="line">gaodeapi_key = <span class="string">&quot;è‡ªå·±çš„key&quot;</span></span><br><span class="line"><span class="comment"># é«˜å¾·apiçš„ç½‘å€</span></span><br><span class="line">gaodeapi_sitehead = <span class="string">&quot;https://restapi.amap.com/v3/assistant/coordinate/convert?locations=&quot;</span></span><br><span class="line"></span><br><span class="line">image = <span class="string">&#x27;IMG_20230430_203010.jpg&#x27;</span></span><br><span class="line"></span><br><span class="line">imageurl = <span class="string">&#x27;![](è‡ªå·±çš„å›¾ç‰‡è·¯å¾„/&#x27;</span></span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">r&#x27;å›¾ç‰‡è·¯å¾„\\&#x27;</span>+image, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line"></span><br><span class="line">tags = exifread.process_file(f)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°ç…§ç‰‡å…¶ä¸­ä¸€äº›ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># print(&#x27;æ‹æ‘„æ—¶é—´ï¼š&#x27;, tags[&#x27;EXIF DateTimeOriginal&#x27;])</span></span><br><span class="line"><span class="comment"># print(&#x27;ç…§ç›¸æœºåˆ¶é€ å•†ï¼š&#x27;, tags[&#x27;Image Make&#x27;])</span></span><br><span class="line"><span class="comment"># print(&#x27;ç…§ç›¸æœºå‹å·ï¼š&#x27;, tags[&#x27;Image Model&#x27;])</span></span><br><span class="line"><span class="comment"># print(&#x27;ç…§ç‰‡å°ºå¯¸ï¼š&#x27;, tags[&#x27;EXIF ExifImageWidth&#x27;], tags[&#x27;EXIF ExifImageLength&#x27;])</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---&quot;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mapmarker: default&quot;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;date: &quot;</span>,tags[<span class="string">&#x27;EXIF DateTimeOriginal&#x27;</span>]) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;device: &quot;</span>+ <span class="built_in">str</span>(tags[<span class="string">&#x27;Image Make&#x27;</span>])+<span class="string">&quot; &quot;</span>+<span class="built_in">str</span>(tags[<span class="string">&#x27;Image Model&#x27;</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;place: &quot;</span>)</span><br><span class="line"><span class="comment">#è·å–ç»åº¦æˆ–çº¬åº¦</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getLatOrLng</span>(<span class="params">refKey, tudeKey</span>):</span><br><span class="line">    <span class="keyword">if</span> refKey <span class="keyword">not</span> <span class="keyword">in</span> tags:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    ref=tags[refKey].printable</span><br><span class="line">    LatOrLng=tags[tudeKey].printable[<span class="number">1</span>:-<span class="number">1</span>].replace(<span class="string">&quot; &quot;</span>,<span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;,&quot;</span>).split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    LatOrLng=<span class="built_in">float</span>(LatOrLng[<span class="number">0</span>])+<span class="built_in">float</span>(LatOrLng[<span class="number">1</span>])/<span class="number">60</span>+<span class="built_in">float</span>(LatOrLng[<span class="number">2</span>])/<span class="built_in">float</span>(LatOrLng[<span class="number">3</span>])/<span class="number">3600</span></span><br><span class="line">    <span class="keyword">if</span> refKey == <span class="string">&#x27;GPS GPSLatitudeRef&#x27;</span> <span class="keyword">and</span> tags[refKey].printable != <span class="string">&quot;N&quot;</span>:</span><br><span class="line">        LatOrLng=LatOrLng*(-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> refKey == <span class="string">&#x27;GPS GPSLongitudeRef&#x27;</span> <span class="keyword">and</span> tags[refKey].printable != <span class="string">&quot;E&quot;</span>:</span><br><span class="line">        LatOrLng=LatOrLng*(-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> LatOrLng</span><br><span class="line"> </span><br><span class="line">lat = getLatOrLng(<span class="string">&#x27;GPS GPSLatitudeRef&#x27;</span>,<span class="string">&#x27;GPS GPSLatitude&#x27;</span>) <span class="comment">#çº¬åº¦</span></span><br><span class="line">lng = getLatOrLng(<span class="string">&#x27;GPS GPSLongitudeRef&#x27;</span>,<span class="string">&#x27;GPS GPSLongitude&#x27;</span>) <span class="comment">#ç»åº¦</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;gps: [&#123;&#125;,&#123;&#125;]&#x27;</span>.<span class="built_in">format</span>(lat, lng))</span><br><span class="line"><span class="keyword">if</span> lat==<span class="literal">None</span> <span class="keyword">or</span> lng==<span class="literal">None</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;no gps&quot;</span>)</span><br><span class="line">    exit()</span><br><span class="line"></span><br><span class="line">gaodeapi_site = gaodeapi_sitehead + <span class="built_in">str</span>(lng)+<span class="string">&quot;,&quot;</span>+<span class="built_in">str</span>(lat)+<span class="string">&quot;&amp;coordsys=gps&amp;output=json&amp;key=&quot;</span>+gaodeapi_key</span><br><span class="line">response = requests.get(gaodeapi_site)</span><br><span class="line">locations = response.json()[<span class="string">&#x27;locations&#x27;</span>]</span><br><span class="line">locations_list = locations.split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">gn=locations_list[<span class="number">1</span>]+<span class="string">&#x27;,&#x27;</span>+locations_list[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;gn: [&#123;&#125;]&quot;</span>.<span class="built_in">format</span>(gn)) </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> gaodeconvert_enable == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;location: [&#123;&#125;]&quot;</span>.<span class="built_in">format</span>(gn)) </span><br><span class="line">    <span class="comment">#response = requests.get(gaodeapi_site+&quot;locations=&quot;+lng+&quot;,&quot;+lat+&quot;&amp;coordsys=gps&amp;output=json&amp;key=&quot;+gaodeapi_key)</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;location: [&#123;&#125;,&#123;&#125;]&quot;</span>.<span class="built_in">format</span>(lat, lng)) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(imageurl+image+<span class="string">&#x27;)&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> gaodeconvert_enable == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(gn) </span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125;,&#123;&#125;&quot;</span>.<span class="built_in">format</span>(lat, lng)) </span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆç”Ÿæˆå‡ºè½¬æ¢åçš„åæ ‡</p>
<p><img src="https://alistsa.vip.cpolar.cn/d/public/pic/vx_images/540910012240490.png"></p>
<h3 id="2-5-è·¯å¾„"><a href="#2-5-è·¯å¾„" class="headerlink" title="2.5 è·¯å¾„"></a>2.5 è·¯å¾„</h3><p>é…åˆå³ä¸‹è§’çš„ä¸€äº›ç¼–è¾‘å·¥å…·ï¼Œå¯ä»¥å®ç°æ•´ä¸ªæ—…è¡Œè·¯å¾„çš„ç»˜åˆ¶ï¼Œè¿˜æ˜¯è›®æœ‰æ„æ€çš„ã€‚</p>
<h2 id="3-æœ€å"><a href="#3-æœ€å" class="headerlink" title="3 æœ€å"></a>3 æœ€å</h2><p>å› ä¸ºè¿™ä¸ªæ’ä»¶åœ¨ç½‘ä¸Šèµ„æ–™ä¸æ˜¯å¾ˆå¤šï¼Œæ•…æƒ³å†™ä¸€ä¸ªæ¨æ–‡å»æ™®åŠä¸€ä¸‹è¿™ä¸ªæ’ä»¶çš„ä½¿ç”¨ï¼Œæ–‡ä¸­è¿˜æœ‰ä¸è¯¦ç»†çš„åœ°æ–¹ä»¥åŠä¸æ˜¯å¾ˆå®Œç¾çš„åœ°æ–¹è¿˜è¯·è§è°…ï¼Œåé¢æˆ‘ä¼šç»§ç»­å®Œå–„è¿™ä¸ªæ–‡ç« ã€‚</p>
<h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><ul>
<li>æ’ä»¶githubï¼š<a target="_blank" rel="noopener" href="https://github.com/javalent/obsidian-leaflet">https://github.com/javalent/obsidian-leaflet</a></li>
<li>openstreetmapå®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://www.openstreetmap.org/#map">https://www.openstreetmap.org/#map</a></li>
<li>leafletä¸­å¦‚ä½•ä¼˜é›…çš„è§£å†³ç™¾åº¦ã€é«˜å¾·åœ°å›¾çš„åç§»é—®é¢˜ï¼š<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/258883313">https://zhuanlan.zhihu.com/p/258883313</a></li>
<li>ç…§ç‰‡ä½ç½®ä¿¡æ¯æå–ï¼ˆè·å–ç»çº¬åº¦ï¼‰ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47325163/article/details/119037394">https://blog.csdn.net/weixin_47325163/article/details/119037394</a></li>
<li>å‘Šåˆ«åå¹´å°è±¡ç¬”è®°ï¼Œç”¨ Obsidian ä¸€å¹´æœ€å–œæ¬¢çš„ 7 ä¸ªåŠŸèƒ½ï¼š<a target="_blank" rel="noopener" href="https://sspai.com/post/77852">https://sspai.com/post/77852</a></li>
<li>leafletä¹‹æ·»åŠ å„ç§åœ°å›¾çš„æœåŠ¡ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/gexin0517/article/details/103769193">https://blog.csdn.net/gexin0517/article/details/103769193</a></li>
</ul>
</div><div class="tags"></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="å…³äº"><img class="nofancybox" src="/img/avatar.png"/></a><p></p><a class="info-icon" href="https://github.com/staraire" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/05/29/hello-world/">Obsidianè¿›é˜¶æ’ä»¶Obsidian Leafletç”¨æ³•ä¹‹ç®¡ç†è‡ªå·±çš„æ—…è¡Œç…§ç‰‡</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2023 <a href="/." rel="nofollow">StarAire's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="å¤åˆ¶æˆåŠŸï¼"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>